name: API Call Demo
on: workflow_dispatch

jobs:
  call-api:
    runs-on: ubuntu-latest
    
    # 이 작업(Job) 전체에서 사용할 환경 변수를 설정합니다.
    env:
      BASE_URL: "https://api.github.com/repos/${{ github.repository }}"
      TOKEN: ${{ secrets.GITHUB_TOKEN }}

    steps:
      # 첫 번째 스텝:
      - name: Print Actor
        run: 'echo "실행자: $GITHUB_ACTOR"'

      # 두 번째 스텝:
      - name: Call GitHub API
        # 'run' 블록 안에서는 $TOKEN, $BASE_URL 변수를 셸 스크립트 문법으로 참조할 수 있습니다.
        run: |
          curl -H "Authorization: Bearer $TOKEN" \
               -H "Accept: application/vnd.github+json" \
               $BASE_URL
